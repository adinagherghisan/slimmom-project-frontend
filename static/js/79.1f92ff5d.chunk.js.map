{"version":3,"file":"static/js/79.1f92ff5d.chunk.js","mappings":"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","sources":["webpack://slimmom-project-frontend/./src/components/Modal/Modal.module.css?28d7","redux/recommendations/selectors.jsx","components/Modal/Modal.jsx","hooks/useModal.jsx","webpack://slimmom-project-frontend/./src/pages/MainPage/MainPage.module.css?04b3","webpack://slimmom-project-frontend/./src/components/DailyCaloriesForm/DailyCaloriesForm.module.css?4bdd","components/DailyCaloriesForm/DailyCaloriesForm.jsx","pages/MainPage/MainPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"Modal_overlay__r63M6\",\"content\":\"Modal_content__gGb69\",\"closeModal\":\"Modal_closeModal__u8DGh\",\"containerContent\":\"Modal_containerContent__helvt\",\"dailyCalories\":\"Modal_dailyCalories__e46OY\",\"text\":\"Modal_text__KJZTz\",\"orderList\":\"Modal_orderList__Nm6Xh\",\"btnCancel\":\"Modal_btnCancel__Wc8uJ\",\"modalButton\":\"Modal_modalButton__HInSF\",\"btn\":\"Modal_btn__ghtlt\"};","import { createSelector } from \"@reduxjs/toolkit\";\n//Memorizam datele pentru a nu se reranda\nexport const selectorRecommendations = createSelector(\n    (state) => state.recommendation.recommendations,\n    (recommendations) => ({\n        dailyCalories: recommendations.dailyCalories || 0,\n        forbiddenProducts: recommendations.forbiddenProducts || []\n    })\n);\n\n","import React from \"react\";\nimport css from './Modal.module.css'\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectorRecommendations } from \"../../redux/recommendations/selectors\";\nimport { useAuth } from \"../../hooks/useAuth\";\n\nconst Modal = ({ closeModal}) => {\n    const navigate = useNavigate();\n    const { isLoggedIn } = useAuth();\n\n    const handleRedirect = () => {\n          if (isLoggedIn) {\n            navigate('/diary');\n        } else {\n            navigate('/login');\n        }\n    }\n\n    const products = useSelector(selectorRecommendations)\n    console.log(\"Forbbiden products:\", products);\n\n    return (\n        <div className={css.overlay} onClick={closeModal}>\n            <div className={css.content} onClick={(e) => e.stopPropagation()}>\n                <button type=\"button\" onClick={closeModal} className={css.closeModal}>X</button>\n                <div className={css.containerContent}>\n                    <h2 className={css.title}> Your recommended daily calorie intake is</h2> \n                    <div>\n                        <p  className={css.dailyCalories}>{products.dailyCalories} kal</p>\n                        <hr/>\n                        <h4 className={css.text}>Foods you should not eat</h4>\n                        <ol className={css.orderList}>\n                        {products.forbiddenProducts.length > 0 ? (\n                            products.forbiddenProducts.map(product => (\n                                <li key={product._id}>\n                                    {product.title}\n                                </li>\n                            ))\n                        ) : (\n                            <li>No forbidden products found.</li>\n                        )}\n                    </ol>\n                    </div>\n                    <div className={css.btn}>\n                        <button className={css.btnCancel} onClick={handleRedirect}>Start losing weight</button>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n    );\n};\nexport default Modal;","import { useEffect, useState } from \"react\";\n\nconst useModal = () => {\nconst [isOpen,setIsOpen]= useState(false);\nconst openModal = () => setIsOpen(true);\nconst closeModal = () => setIsOpen(false)\n\nuseEffect(()=>{\n    const handlekeyPress = (event) => {\n        if(event.key === 'ESCAPE')\n            {\n                closeModal()\n            };\n    }\n    if(isOpen){\n        window.addEventListener('keydown', handlekeyPress)\n    }else{\n        window.removeEventListener('keydown', handlekeyPress);\n    }\n    return () =>{\n        window.removeEventListener('keydown', handlekeyPress);\n    }\n\n    },[isOpen])\n\n    return{isOpen, openModal, closeModal}\n};\nexport default useModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"mainPage\":\"MainPage_mainPage__6v19D\",\"containerMainPage\":\"MainPage_containerMainPage__LMQpN\",\"title\":\"MainPage_title__goIOM\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"DailyCaloriesForm_container__ANzbD\",\"formGroup\":\"DailyCaloriesForm_formGroup__ruQeK\",\"inputField\":\"DailyCaloriesForm_inputField__HdeTR\",\"error\":\"DailyCaloriesForm_error__43rGI\",\"bloodTypeGroup\":\"DailyCaloriesForm_bloodTypeGroup__0N5OK\",\"button\":\"DailyCaloriesForm_button__HWVOR\",\"modalButton\":\"DailyCaloriesForm_modalButton__Kte-S\",\"leftSide\":\"DailyCaloriesForm_leftSide__nrQPb\",\"rightSide\":\"DailyCaloriesForm_rightSide__cl8Oc\"};","import React from 'react';\nimport css from './DailyCaloriesForm.module.css'\nimport { useDispatch} from 'react-redux';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { \n    addHeight, \n    addAge, \n    addCurrentWeight, \n    addDesiredWeight, \n    addBloodType, \n    clearForm \n} from '../../redux/recommendations/recommendationsSlice'; \nimport Modal from '../Modal/Modal';\nimport useModal from '../../hooks/useModal'; \nimport { fetchPublicRecommendations } from '../../redux/recommendations/operations';\n\nconst validationSchema = Yup.object({\n    height: Yup.number().min(50, 'Too small').max(300, 'Too large').required('Required'),\n    age: Yup.number().min(1, 'Age cannot be less than 1').max(120, 'Age cannot exceed 120').required('Required'),\n    current_weight: Yup.number().min(30, 'Too small').max(300, 'Too large').required('Required'),\n    desired_weight: Yup.number().min(30, 'Too small').max(300, 'Too large').required('Required'),\n    blood_type: Yup.string().oneOf(['0(I)', 'A(II)', 'B(III)', 'AB(IV)'], 'Select a valid blood type').required('Required'),\n});\n\nconst DailyCaloriesForm = () => {\n    const dispatch = useDispatch();\n    const { isOpen, openModal, closeModal } = useModal();\n\n    return (\n        <>\n            <Formik\n                initialValues={{\n                    height: '',\n                    age: '',\n                    current_weight: '',\n                    desired_weight: '',\n                    blood_type: '',\n                }}\n                validationSchema={validationSchema}\n                onSubmit={(values, { resetForm }) => {\n                    dispatch(addHeight(Number(values.height)));\n                    dispatch(addAge(Number(values.age)));\n                    dispatch(addCurrentWeight(Number(values.current_weight)));\n                    dispatch(addDesiredWeight(Number(values.desired_weight)));\n                    dispatch(addBloodType(values.blood_type));\n                    dispatch(fetchPublicRecommendations(values));\n                    console.log(\"Form data\", values);\n                    resetForm();\n                    dispatch(clearForm());\n                }}\n            >\n                {({ isSubmitting, isValid }) => (\n                    <Form className={css.form}>\n                        <div className={css.container}>\n                            <div className={css.leftSide}>\n                                <div className={css.formGroup}>\n                                    <div>\n                                        <Field\n                                            type=\"number\"\n                                            name=\"height\"\n                                            placeholder=\"Height*\"\n                                            className={css.inputField}\n                                        />\n                                        <ErrorMessage name=\"height\" component=\"div\" className={css.error} />\n                                    </div>\n                                    \n                                    <div>\n                                        <Field\n                                            type=\"number\"\n                                            name=\"age\"\n                                            placeholder=\"Age*\"\n                                            className={css.inputField}\n                                        />\n                                        <ErrorMessage name=\"age\" component=\"div\" className={css.error} />\n                                    </div>\n                                    \n                                    <div>\n                                        <Field\n                                            type=\"number\"\n                                            name=\"current_weight\"\n                                            placeholder=\"Current weight*\"\n                                            className={css.inputField}\n                                        />\n                                        <ErrorMessage name=\"current_weight\" component=\"div\" className={css.error} />\n                                    \n                                    </div>\n                                    \n                                </div>\n                            </div>\n\n                            <div className={css.rightSide}>\n                                <div className={css.formGroup}>\n                                    <div>\n                                        <Field\n                                            type=\"number\"\n                                            name=\"desired_weight\"\n                                            placeholder=\"Desired weight*\"\n                                            className={css.inputField}\n                                        />\n                                        <ErrorMessage name=\"desired_weight\" component=\"div\" className={css.error} />\n                                    </div>\n                                    \n\n                                    <div className={css.bloodTypeGroup}>\n                                        <label htmlFor=\"blood_type_0\">\n                                            <Field type=\"radio\" name=\"blood_type\" value=\"0(I)\" id=\"blood_type_0\" />\n                                            <span>0(I)</span>\n                                        </label>\n\n                                        <label htmlFor=\"blood_type_A\">\n                                            <Field type=\"radio\" name=\"blood_type\" value=\"A(II)\" id=\"blood_type_A\" />\n                                            <span>A(II)</span>\n                                        </label>\n\n                                        <label htmlFor=\"blood_type_B\">\n                                            <Field type=\"radio\" name=\"blood_type\" value=\"B(III)\" id=\"blood_type_B\" />\n                                            <span>B(III)</span>\n                                        </label>\n\n                                        <label htmlFor=\"blood_type_AB\">\n                                            <Field type=\"radio\" name=\"blood_type\" value=\"AB(IV)\" id=\"blood_type_AB\" />\n                                            <span>AB(IV)</span>\n                                        </label>\n                                    </div>\n                                    <ErrorMessage name=\"blood_type\" component=\"div\" className={css.error} />\n                                </div>\n                            </div>\n                        </div>\n                        <div className={css.button}>\n                            <button type=\"submit\" disabled={isSubmitting || !isValid} onClick={openModal} className={css.modalButton}>\n                                Start losing weight\n                            </button>\n                        </div>\n                    </Form>\n                )}\n            </Formik>\n\n            {isOpen && <Modal closeModal={closeModal} />}\n        </>\n    );\n};\n\nexport default DailyCaloriesForm;\n","import React from 'react';\nimport css from './MainPage.module.css';\nimport DailyCaloriesForm from 'components/DailyCaloriesForm/DailyCaloriesForm';\n\nconst MainPage = () => {\n  return (\n    <div className={css.mainPage}>\n      <div className={css.containerMainPage}>\n        <h1 className={css.title}>Calculate your daily calorie intake right now</h1>\n        <DailyCaloriesForm />\n      </div>\n    </div>\n    \n  );\n};\n\nexport default MainPage;"],"names":["selectorRecommendations","createSelector","state","recommendation","recommendations","dailyCalories","forbiddenProducts","_ref","closeModal","navigate","useNavigate","isLoggedIn","useAuth","products","useSelector","console","log","_jsx","className","css","onClick","children","_jsxs","e","stopPropagation","type","length","map","product","title","_id","_useState","useState","_useState2","_slicedToArray","isOpen","setIsOpen","useEffect","handlekeyPress","event","key","window","addEventListener","removeEventListener","openModal","validationSchema","Yup","height","min","max","required","age","current_weight","desired_weight","blood_type","oneOf","dispatch","useDispatch","_useModal","useModal","_Fragment","Formik","initialValues","onSubmit","values","resetForm","addHeight","Number","addAge","addCurrentWeight","addDesiredWeight","addBloodType","fetchPublicRecommendations","clearForm","_ref2","isSubmitting","isValid","Form","Field","name","placeholder","ErrorMessage","component","htmlFor","value","id","disabled","Modal","DailyCaloriesForm"],"sourceRoot":""}